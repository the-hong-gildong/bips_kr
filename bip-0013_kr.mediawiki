<pre>
  BIP: 13
  레이어: 애플리케이션
  제목: pay-to-script-hash 주소 형식
  작성자: 게빈 앤더슨(Gavin Andresen) <gavinandresen@gmail.com>
  코멘트-요약: 아직 코멘트 없음.
  코멘트-URI: https://github.com/bitcoin/bips/wiki/Comments:BIP-0013
  상태: 최종
  타입: 표준 트랙
  생성일: 2011-10-18
</pre>
* 원문: https://github.com/bitcoin/bips/blob/master/bip-0013.mediawiki
* 싱크: https://github.com/bitcoin/bips/commit/aeda6226dd799c02af260a3582768f839cf6316d

==초록==

본 BIP는 고의로 복잡성을 갖도록 설계된 트랜잭션을 지원하기 위한 새로운 유형의 비트코인 주소를 설명합니다. 여기서 복잡성이란 현재 비트코인 구현에서 단일 ECDSA 개인 키가 필요한 것과 달리 수신자가 수신한 코인을 재전송하기 위해 필요한 정보로 정의됩니다.

본질적으로 이 제안에 따라 인코딩된 주소는 ECDSA 공개키의 인코딩된 해시가 아니라 [https://en.bitcoin.it/wiki/Script 스크립트]의 인코딩된 해시를 나타냅니다.

==동기==

'엔드 투 엔드' 보안 지갑 및 에스크로 거래 또는 기타 복잡한 결제를 가능하게 합니다. 써드파티 지갑 보안 서비스를 가능하게 합니다.

==스펙==

새로운 비트코인 주소 형식은 기존 비트코인 주소와 동일한 방식으로 구성됩니다. ([https://en.bitcoin.it/Base58Check_encoding Base58Check encoding]을 보세요):

    base58-encode: [one-byte version][20-byte hash][4-byte checksum]

버전 바이트는 메인 네트워크 주소의 경우 5, 테스트넷 주소의 경우 196입니다. 20바이트 해시는 코인을 사용(redeem)하는 데 사용되는 스크립트의 해시입니다. 그리고 4바이트 체크섬은 버전과 해시의 이중 SHA256 해시의 첫 4바이트입니다.

==근거==

비트코인 주소가 더 사용자 친화적인 결제 메커니즘을 위해 더 이상 사용되지 않아야 하며, 이는 잘못 설계된 메커니즘을 계속 사용하도록 부추길 뿐이라는 한 비판이 있습니다.

또 다른 비판은 비트코인 주소는 신원 정보가 연결되어 있지 않기 때문에 본질적으로 안전하지 않다는 것입니다. 비트코인 주소만 가지고 있다면 누군가에게 혹은 무엇인가에 지불한다는 생각대로 지불하고 있다고 어떻게 확신할 수 있을까요?

또한 SHA256을 잘라내는 것은 최적의 체크섬이 아니며, 훨씬 더 나은 오류 감지 알고리즘이 있습니다. 새로운 형태의 비트코인 주소를 도입한다면 더 나은 알고리즘을 사용해야 할 것입니다.

이는 보다 안전한 비트코인 인프라로 가는 가장 간단한 방법 중 하나입니다. 이는 비트코인의 사용성이나 보안 문제를 모두 해결하기 위한 것이 아니라, 점진적으로 개선하기 위한 것입니다. 향후 BIP는 결제를 하거나 익명의 해커가 아닌 자유 소프트웨어 재단에 보내는지 확인하는 것이 보다 사용자 친화적인 메커니즘이 되도록 제안되어야 합니다.

앞으로 비트코인 주소를 수동으로 입력하는 일이 점점 더 드물어질 것이라고 가정하고, 비트코인 주소에 대한 기존의 체크섬 방식이 실제로 "충분히 잘" 작동하고 이미 여러 번 구현되었다는 점을 고려할 때, 저자는 체크섬 알고리즘을 변경할 필요는 없다고 생각합니다.

선행 버전 바이트는 base58 인코딩 후 선행 문자가 일관되도록 선택됩니다: 메인 네트워크의 경우, 바이트 5는 문자 '3'이 됩니다. 테스트넷의 경우 바이트 196은 '2'로 인코딩됩니다.

==하위 호환성==

이 제안은 하위 호환성이 없지만, 이전 구현에서 이러한 새로운 비트코인 주소 중 하나가 주어지면 해당 주소를 유효하지 않은 것으로 보고하고 트랜잭션 생성을 거부합니다.

==참조 구현==

https://github.com/bitcoin/bitcoin/tree/master/src 에서 base58.cpp/base58.h 를 보세요.

==함께 보세요==

* [[bip-0012.mediawiki|BIP 12: OP_EVAL, the original P2SH design]]
* [[bip-0016_kr.mediawiki|BIP 16 (kr): Pay to Script Hash (aka "/P2SH/")]]
* [[bip-0017.mediawiki|BIP 17: OP_CHECKHASHVERIFY, another P2SH design]]
